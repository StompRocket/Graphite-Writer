NProgress.configure({showSpinner:!1}),firebase.auth().onAuthStateChanged(function(e){if(e){var t;null!=(e=firebase.auth().currentUser)&&(e.displayName,e.email,e.photoURL,e.emailVerified,t=e.uid);new Vue({el:"#app",firebase:{fbdocs:{source:db.ref("/users/"+t+"/docs/").orderByChild("utcdate"),readyCallback:function(){this.fbdocs=this.fbdocs.slice().reverse(),this.docs=this.fbdocs}}},data:{loaded:!0,newDocName:"",docs:[],modalDisplay:!1,docSearch:"",cache:[]},mounted:function(){},methods:{getUrl:function(e){return this.loaded=!1,"/edit?d="+Object.values(e).slice(-1)[0]},getAlt:function(e){return e?(e=JSON.stringify(e),e=e.toLowerCase()):"ERROR"},show:function(e){return!!e},openNewDoc:function(){this.modalDisplay=!0},closeNewDoc:function(){this.modalDisplay=!1},createNewDoc:function(){var e=this.newDocName;if(e){console.log(e);var s=firebase.database().ref("users/"+t+"/docs/").push(),i=new Date;i=i.toString(),s.set({data:"",title:e,date:i,utcdate:(new Date).getTime()}),this.newDocName="",this.modalDisplay=!1}else window.alert("Document Names Must Be More than 1 Character")},search:function(){var e=this.docSearch.toLowerCase();let t=this.fbdocs;if(!e)return this.docs=this.fbdocs,this.fbdocs;const s=e,i=e=>{if(JSON.stringify(e.title))return JSON.stringify(e.title).toLowerCase().includes(s)};this.docs=t.filter(i)}},filters:{reverse:function(e){return e.slice().reverse()}}})}});