$(document).ready(function(e){NProgress.configure({showSpinner:!1}),firebase.auth().onAuthStateChanged(function(t){if(t){var o;null!=(t=firebase.auth().currentUser)&&(t.displayName,t.email,t.photoURL,t.emailVerified,o=t.uid),e("#newDocFab").on("click",function(){console.log("newdoc"),e("#newDocModal").addClass("is-active")}),e(".modal-background").on("click",function(){e("#newDocModal").removeClass("is-active")});new Vue({el:"#app",firebase:{fbdocs:{source:db.ref("/users/"+o+"/docs/").orderByChild("utcdate"),readyCallback:function(){this.docs=this.fbdocs.slice().reverse()}}},data:{loaded:!0,newDocName:"",docs:[],modalDisplay:!1},mounted:function(){},methods:{getUrl:function(e){return this.loaded=!1,"/edit?d="+Object.values(e).slice(-1)[0]},getAlt:function(e){return e?(e=JSON.stringify(e),e=e.toLowerCase()):"ERROR"},show:function(e){return!!e},openNewDoc:function(){this.modalDisplay=!0},closeNewDoc:function(){this.modalDisplay=!1},createNewDoc:function(){var e=this.newDocName;if(e){console.log(e);var t=firebase.database().ref("users/"+o+"/docs/").push(),n=new Date;n=n.toString(),t.set({data:"",title:e,date:n,utcdate:(new Date).getTime()}),this.newDocName="",this.modalDisplay=!1}else window.alert("Document Names Must Be More than 1 Character")}},filters:{reverse:function(e){return e.slice().reverse()}}});!function(){e("#search").on("keyup",function(t){var o=e("#search").val().toLowerCase(),n=e("#docContainer a");o?(n.hide(),n.each(function(){e(this).attr("alt").indexOf(o)>=0&&e(this).fadeIn(400,function(){})})):n.fadeIn(400,function(){})})}()}})});