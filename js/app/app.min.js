$(document).ready(function(e){NProgress.configure({showSpinner:!1}),firebase.auth().onAuthStateChanged(function(t){if(t){var o;null!=(t=firebase.auth().currentUser)&&(t.displayName,t.email,t.photoURL,t.emailVerified,o=t.uid),e("#newDocFab").on("click",function(){console.log("newdoc"),e("#newDocModal").addClass("is-active")}),e(".modal-background").on("click",function(){e("#newDocModal").removeClass("is-active")});new Vue({el:"#app",firebase:{fbdocs:{source:db.ref("/users/"+o+"/docs/").orderByChild("utcdate"),readyCallback:function(){this.fbdocs=this.fbdocs.slice().reverse(),this.docs=this.fbdocs}}},data:{loaded:!0,newDocName:"",docs:[],modalDisplay:!1,docSearch:"",cache:[]},mounted:function(){},methods:{getUrl:function(e){return this.loaded=!1,"/edit?d="+Object.values(e).slice(-1)[0]},getAlt:function(e){return e?(e=JSON.stringify(e),e=e.toLowerCase()):"ERROR"},show:function(e){return!!e},openNewDoc:function(){this.modalDisplay=!0},closeNewDoc:function(){this.modalDisplay=!1},createNewDoc:function(){var e=this.newDocName;if(e){console.log(e);var t=firebase.database().ref("users/"+o+"/docs/").push(),s=new Date;s=s.toString(),t.set({data:"",title:e,date:s,utcdate:(new Date).getTime()}),this.newDocName="",this.modalDisplay=!1}else window.alert("Document Names Must Be More than 1 Character")},search:function(){var e=this.docSearch.toLowerCase();let t=this.fbdocs;if(!e)return this.docs=this.fbdocs,this.fbdocs;const o=e,s=e=>{if(JSON.stringify(e.title))return JSON.stringify(e.title).toLowerCase().includes(o)};this.docs=t.filter(s)}},filters:{reverse:function(e){return e.slice().reverse()}}})}})});